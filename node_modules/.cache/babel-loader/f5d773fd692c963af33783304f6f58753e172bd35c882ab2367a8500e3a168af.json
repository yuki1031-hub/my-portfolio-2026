{"ast":null,"code":"import { MotionValueState } from '../MotionValueState.mjs';\nfunction createEffect(addValue) {\n  const stateCache = new WeakMap();\n  const subscriptions = [];\n  return (subject, values) => {\n    var _stateCache$get;\n    const state = (_stateCache$get = stateCache.get(subject)) !== null && _stateCache$get !== void 0 ? _stateCache$get : new MotionValueState();\n    stateCache.set(subject, state);\n    for (const key in values) {\n      const value = values[key];\n      const remove = addValue(subject, state, key, value);\n      subscriptions.push(remove);\n    }\n    return () => {\n      for (const cancel of subscriptions) cancel();\n    };\n  };\n}\nexport { createEffect };","map":{"version":3,"names":["createEffect","addValue","stateCache","WeakMap","subscriptions","subject","values","_stateCache$get","state","get","MotionValueState","set","key","value","remove","push","cancel"],"sources":["C:\\Users\\hishi\\Documents\\ポートフォリオ2026\\portfolio\\my-portfolio-2026\\node_modules\\motion-dom\\src\\effects\\utils\\create-effect.ts"],"sourcesContent":["import { MotionValue } from \"../../value\"\nimport { MotionValueState } from \"../MotionValueState\"\n\nexport function createEffect<Subject extends object>(\n    addValue: (\n        subject: Subject,\n        state: MotionValueState,\n        key: string,\n        value: MotionValue\n    ) => VoidFunction\n) {\n    const stateCache = new WeakMap<Subject, MotionValueState>()\n    const subscriptions: VoidFunction[] = []\n\n    return (\n        subject: Subject,\n        values: Record<string, MotionValue>\n    ): VoidFunction => {\n        const state = stateCache.get(subject) ?? new MotionValueState()\n\n        stateCache.set(subject, state)\n\n        for (const key in values) {\n            const value = values[key]\n            const remove = addValue(subject, state, key, value)\n            subscriptions.push(remove)\n        }\n\n        return () => {\n            for (const cancel of subscriptions) cancel()\n        }\n    }\n}\n"],"mappings":";AAGM,SAAUA,YAAYA,CACxBC,QAKiB;EAEjB,MAAMC,UAAU,GAAG,IAAIC,OAAO,EAA6B;EAC3D,MAAMC,aAAa,GAAmB,EAAE;EAExC,OAAO,CACHC,OAAgB,EAChBC,MAAmC,KACrB;IAAA,IAAAC,eAAA;IACd,MAAMC,KAAK,IAAAD,eAAA,GAAGL,UAAU,CAACO,GAAG,CAACJ,OAAO,CAAC,cAAAE,eAAA,cAAAA,eAAA,GAAI,IAAIG,gBAAgB,EAAE;IAE/DR,UAAU,CAACS,GAAG,CAACN,OAAO,EAAEG,KAAK,CAAC;IAE9B,KAAK,MAAMI,GAAG,IAAIN,MAAM,EAAE;MACtB,MAAMO,KAAK,GAAGP,MAAM,CAACM,GAAG,CAAC;MACzB,MAAME,MAAM,GAAGb,QAAQ,CAACI,OAAO,EAAEG,KAAK,EAAEI,GAAG,EAAEC,KAAK,CAAC;MACnDT,aAAa,CAACW,IAAI,CAACD,MAAM,CAAC;;IAG9B,OAAO,MAAK;MACR,KAAK,MAAME,MAAM,IAAIZ,aAAa,EAAEY,MAAM,EAAE;IAChD,CAAC;EACL,CAAC;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}