{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hishi\\\\Documents\\\\\\u30DD\\u30FC\\u30C8\\u30D5\\u30A9\\u30EA\\u30AA2026\\\\portfolio\\\\my-portfolio-2026\\\\src\\\\components\\\\ShuffleText.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*';\nfunction shuffleArray(arr) {\n  const a = [...arr];\n  for (let i = a.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [a[i], a[j]] = [a[j], a[i]];\n  }\n  return a;\n}\n\n/**\r\n * ShuffleText — randomized reveal, 1.5x speed, flicker effect\r\n * @param {string}  text      Final display text\r\n * @param {number}  duration  Animation duration ms (default 930 = 1400/1.5)\r\n * @param {number}  delay     Delay before starting ms\r\n * @param {string}  className Additional CSS class\r\n */\nexport default function ShuffleText(_ref) {\n  _s();\n  let {\n    text,\n    duration = 930,\n    delay = 0,\n    className = ''\n  } = _ref;\n  const [display, setDisplay] = useState(() => text.split('').map(c => c === ' ' ? ' ' : CHARS[Math.floor(Math.random() * CHARS.length)]).join(''));\n  const [animating, setAnimating] = useState(true);\n  const rafRef = useRef(null);\n  useEffect(() => {\n    // Pre-compute random resolution order (Fisher-Yates)\n    const nonSpaceIndices = text.split('').map((c, i) => c !== ' ' ? i : null).filter(i => i !== null);\n    const order = shuffleArray(nonSpaceIndices);\n    const resolved = new Set();\n    let start = null;\n    let timeout;\n    const step = timestamp => {\n      if (!start) start = timestamp;\n      const elapsed = timestamp - start;\n      const progress = Math.min(elapsed / duration, 1);\n\n      // Resolve characters in random order based on progress\n      const resolveCount = Math.floor(progress * order.length);\n      for (let i = 0; i < resolveCount; i++) resolved.add(order[i]);\n      const chars = text.split('').map((char, i) => {\n        if (char === ' ') return ' ';\n        if (resolved.has(i)) return char;\n        // Flicker: ~18% chance to show nothing (visual blink)\n        if (Math.random() < 0.18) return '\\u00B7'; // middle dot = flickering gap\n        return CHARS[Math.floor(Math.random() * CHARS.length)];\n      }).join('');\n      setDisplay(chars);\n      if (progress < 1) {\n        rafRef.current = requestAnimationFrame(step);\n      } else {\n        setDisplay(text);\n        setAnimating(false);\n      }\n    };\n    timeout = setTimeout(() => {\n      setAnimating(true);\n      rafRef.current = requestAnimationFrame(step);\n    }, delay);\n    return () => {\n      clearTimeout(timeout);\n      if (rafRef.current) cancelAnimationFrame(rafRef.current);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"\".concat(className).concat(animating ? ' shuffle-text--animating' : ''),\n    children: display\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n}\n_s(ShuffleText, \"G+bdKWjVOAnkysXqEIk7bnH3CA8=\");\n_c = ShuffleText;\nvar _c;\n$RefreshReg$(_c, \"ShuffleText\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","CHARS","shuffleArray","arr","a","i","length","j","Math","floor","random","ShuffleText","_ref","_s","text","duration","delay","className","display","setDisplay","split","map","c","join","animating","setAnimating","rafRef","nonSpaceIndices","filter","order","resolved","Set","start","timeout","step","timestamp","elapsed","progress","min","resolveCount","add","chars","char","has","current","requestAnimationFrame","setTimeout","clearTimeout","cancelAnimationFrame","concat","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/hishi/Documents/ポートフォリオ2026/portfolio/my-portfolio-2026/src/components/ShuffleText.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\n\r\nconst CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*';\r\n\r\nfunction shuffleArray(arr) {\r\n    const a = [...arr];\r\n    for (let i = a.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [a[i], a[j]] = [a[j], a[i]];\r\n    }\r\n    return a;\r\n}\r\n\r\n/**\r\n * ShuffleText — randomized reveal, 1.5x speed, flicker effect\r\n * @param {string}  text      Final display text\r\n * @param {number}  duration  Animation duration ms (default 930 = 1400/1.5)\r\n * @param {number}  delay     Delay before starting ms\r\n * @param {string}  className Additional CSS class\r\n */\r\nexport default function ShuffleText({ text, duration = 930, delay = 0, className = '' }) {\r\n    const [display, setDisplay] = useState(() =>\r\n        text.split('').map(c => c === ' ' ? ' ' : CHARS[Math.floor(Math.random() * CHARS.length)]).join('')\r\n    );\r\n    const [animating, setAnimating] = useState(true);\r\n    const rafRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        // Pre-compute random resolution order (Fisher-Yates)\r\n        const nonSpaceIndices = text.split('').map((c, i) => c !== ' ' ? i : null).filter(i => i !== null);\r\n        const order = shuffleArray(nonSpaceIndices);\r\n        const resolved = new Set();\r\n        let start = null;\r\n        let timeout;\r\n\r\n        const step = (timestamp) => {\r\n            if (!start) start = timestamp;\r\n            const elapsed = timestamp - start;\r\n            const progress = Math.min(elapsed / duration, 1);\r\n\r\n            // Resolve characters in random order based on progress\r\n            const resolveCount = Math.floor(progress * order.length);\r\n            for (let i = 0; i < resolveCount; i++) resolved.add(order[i]);\r\n\r\n            const chars = text.split('').map((char, i) => {\r\n                if (char === ' ') return ' ';\r\n                if (resolved.has(i)) return char;\r\n                // Flicker: ~18% chance to show nothing (visual blink)\r\n                if (Math.random() < 0.18) return '\\u00B7'; // middle dot = flickering gap\r\n                return CHARS[Math.floor(Math.random() * CHARS.length)];\r\n            }).join('');\r\n\r\n            setDisplay(chars);\r\n\r\n            if (progress < 1) {\r\n                rafRef.current = requestAnimationFrame(step);\r\n            } else {\r\n                setDisplay(text);\r\n                setAnimating(false);\r\n            }\r\n        };\r\n\r\n        timeout = setTimeout(() => {\r\n            setAnimating(true);\r\n            rafRef.current = requestAnimationFrame(step);\r\n        }, delay);\r\n\r\n        return () => {\r\n            clearTimeout(timeout);\r\n            if (rafRef.current) cancelAnimationFrame(rafRef.current);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <span className={`${className}${animating ? ' shuffle-text--animating' : ''}`}>\r\n            {display}\r\n        </span>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}