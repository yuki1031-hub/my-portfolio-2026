{"ast":null,"code":"import { __assign as e, __awaiter as t, __generator as n, __spreadArray as i, __read as r } from \"tslib\";\nimport { createLiffError as s, randomAlphaNumericString as a } from \"@liff/util\";\nimport { SUB_WINDOW_STATUS as o, UNKNOWN as c } from \"@liff/consts\";\nvar d = \"liff.subwindow.identifier\",\n  u = \"liff.subwindow.cryptokey\",\n  f = e(e({}, o), {\n    GET_DATA: \"getData\",\n    SET_DATA: \"setData\",\n    NOT_FOUND: \"notFound\",\n    TEARDOWN: \"teardown\"\n  }),\n  l = {\n    BROADCAST: \"broadcast\",\n    COMMAND: \"command\"\n  },\n  h = {\n    MAIN: \"main\",\n    SUB: \"sub\"\n  },\n  v = \"__liff_message_bus__\",\n  p = \"bFSQbce18HC7UXe-lS_mgg\",\n  m = function (e) {\n    return t(void 0, void 0, void 0, function () {\n      var t;\n      return n(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return n.trys.push([0, 2,, 3]), [4, window.crypto.subtle.importKey(\"jwk\", {\n              kty: \"oct\",\n              k: e,\n              alg: \"A128GCM\",\n              ext: !0\n            }, {\n              name: \"AES-GCM\"\n            }, !1, [\"encrypt\", \"decrypt\"])];\n          case 1:\n            return [2, n.sent()];\n          case 2:\n            throw t = n.sent(), s(c, t);\n          case 3:\n            return [2];\n        }\n      });\n    });\n  },\n  w = function (e, i, r) {\n    return t(void 0, void 0, void 0, function () {\n      var t, a, o, d;\n      return n(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return n.trys.push([0, 3,, 4]), t = new TextEncoder().encode(e), [4, m(i)];\n          case 1:\n            return a = n.sent(), [4, window.crypto.subtle.encrypt({\n              name: \"AES-GCM\",\n              iv: t\n            }, a, new TextEncoder().encode(r))];\n          case 2:\n            return o = n.sent(), [2, btoa(new Uint8Array(o).reduce(function (e, t) {\n              return e + String.fromCharCode(t);\n            }, \"\"))];\n          case 3:\n            throw d = n.sent(), s(c, d);\n          case 4:\n            return [2];\n        }\n      });\n    });\n  },\n  y = function (e, i, r) {\n    return t(void 0, void 0, void 0, function () {\n      var t, a, o, d, u, f, l;\n      return n(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return n.trys.push([0, 3,, 4]), t = new TextEncoder().encode(e), [4, m(i)];\n          case 1:\n            for (a = n.sent(), o = atob(r), d = new Uint8Array(o.length), u = 0; u < o.length; u++) d[u] = o.charCodeAt(u);\n            return [4, window.crypto.subtle.decrypt({\n              name: \"AES-GCM\",\n              iv: t\n            }, a, d.buffer)];\n          case 2:\n            return f = n.sent(), [2, new TextDecoder().decode(new Uint8Array(f))];\n          case 3:\n            throw l = n.sent(), s(c, l);\n          case 4:\n            return [2];\n        }\n      });\n    });\n  },\n  g = function (e, t) {\n    return b(e) === b(t);\n  },\n  b = function (e) {\n    return \"\".concat(e.identifier, \"-\").concat(e.action, \"-\").concat(e.timestamp);\n  },\n  E = function (e) {\n    return Object.keys(o).map(function (e) {\n      return o[e];\n    }).includes(e) ? l.BROADCAST : l.COMMAND;\n  };\nfunction A() {\n  var e = document.createElement(\"form\");\n  e.method = \"POST\", e.action = \"$MESSAGE_HANDLER_URL\";\n  var t = document.createElement(\"input\");\n  t.type = \"hidden\", t.name = \"identifier\", t.value = \"$IDENTIFIER\", e.appendChild(t), document.body.appendChild(e), e.submit();\n}\nvar T = function (o) {\n  void 0 === o && (o = h.MAIN);\n  var d = this;\n  this.identification = {\n    identifier: \"\",\n    cryptoKey: \"\"\n  }, this.messageHandlerInstance = null, this.listeners = new Map(), this.sentMessages = [], this.generateIdentification = function () {\n    return t(d, void 0, void 0, function () {\n      var e, i, r, o, d;\n      return n(this, function (f) {\n        switch (f.label) {\n          case 0:\n            return e = new URLSearchParams(window.location.search), i = function (t) {\n              var n = e.get(\"liff.state\");\n              return n ? new URLSearchParams(n).get(t) : null;\n            }, r = this, d = {\n              identifier: this.windowType === h.MAIN ? a(12) : e.get(\"liff.subwindow.identifier\") || i(\"liff.subwindow.identifier\") || \"\"\n            }, this.windowType !== h.MAIN ? [3, 2] : [4, t(void 0, void 0, void 0, function () {\n              var e, t, i;\n              return n(this, function (n) {\n                switch (n.label) {\n                  case 0:\n                    return n.trys.push([0, 3,, 4]), [4, window.crypto.subtle.generateKey({\n                      name: \"AES-GCM\",\n                      length: 128\n                    }, !0, [\"encrypt\", \"decrypt\"])];\n                  case 1:\n                    return e = n.sent(), [4, window.crypto.subtle.exportKey(\"jwk\", e)];\n                  case 2:\n                    if (!(t = n.sent()) || !t.k) throw s(c, \"failed to generate key\");\n                    return [2, t.k];\n                  case 3:\n                    throw i = n.sent(), s(c, i);\n                  case 4:\n                    return [2];\n                }\n              });\n            })];\n          case 1:\n            return o = f.sent(), [3, 3];\n          case 2:\n            o = e.get(u) || i(u) || \"\", f.label = 3;\n          case 3:\n            return r.identification = (d.cryptoKey = o, d), [2];\n        }\n      });\n    });\n  }, this.hasIdentification = function () {\n    var e = d.identification,\n      t = e.identifier,\n      n = e.cryptoKey;\n    return \"string\" == typeof t && \"string\" == typeof n && t.length > 0 && n.length > 0;\n  }, this.isReady = function () {\n    return d.hasIdentification() && !!d.messageHandlerInstance;\n  }, this.setup = function () {\n    return t(d, void 0, void 0, function () {\n      var e,\n        t,\n        i,\n        r,\n        a,\n        o = this;\n      return n(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return this.messageHandlerInstance ? [2] : [4, this.generateIdentification()];\n          case 1:\n            if (n.sent(), !(e = this.identification.identifier)) return [2];\n            if (t = /^[a-zA-Z0-9]+$/gm, !e.match(t)) throw s(c, \"Invalid identifier\");\n            return (i = document.createElement(\"iframe\")).style.display = \"none\", i.src = \"about:blank\", document.body.appendChild(i), null === (a = null == i ? void 0 : i.contentWindow) || void 0 === a || a.window.eval(\"(\".concat(A.toString().replace(\"$MESSAGE_HANDLER_URL\", \"\".concat(\"https://liff-subwindow.line.me/liff/v2/sub/messageHandler\")).replace(\"$IDENTIFIER\", e.split(\"'\")[0]), \")()\")), r = \"iframe-\".concat(e, \"-ready\"), [4, new Promise(function (e) {\n              var t = function (n) {\n                n.data[r] && (o.messageHandlerInstance = i, window.addEventListener(\"message\", o.proxyToListeners), e(), document.removeEventListener(\"message\", t));\n              };\n              window.addEventListener(\"message\", t);\n            })];\n          case 2:\n            return [2, n.sent()];\n        }\n      });\n    });\n  }, this.teardown = function () {\n    return t(d, void 0, void 0, function () {\n      var e, t;\n      return n(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return this.isReady() ? [4, this.send({\n              eventName: f.TEARDOWN\n            })] : [3, 2];\n          case 1:\n            n.sent(), window.removeEventListener(\"message\", this.proxyToListeners), this.listeners.clear(), null === (t = null === (e = this.messageHandlerInstance) || void 0 === e ? void 0 : e.parentNode) || void 0 === t || t.removeChild(this.messageHandlerInstance), this.messageHandlerInstance = null, n.label = 2;\n          case 2:\n            return [2];\n        }\n      });\n    });\n  }, this.listen = function (e) {\n    d.listeners.set(e, e);\n  }, this.listenRepliedEvent = function (e, t) {\n    var n = function (i) {\n      i.replyTarget && g(i.replyTarget, e) && (t(i), d.listeners.delete(n));\n    };\n    d.listeners.set(n, n);\n  }, this.send = function (e) {\n    return t(d, void 0, void 0, function () {\n      var t,\n        i,\n        r,\n        a,\n        o = this;\n      return n(this, function (n) {\n        switch (n.label) {\n          case 0:\n            if (!this.isReady()) throw s(\"message bus is not ready to send message\");\n            return i = {\n              action: E(e.eventName),\n              identifier: this.identification.identifier || \"\",\n              timestamp: new Date().getTime()\n            }, [4, this.getEncryptedContext(e)];\n          case 1:\n            return i.context = n.sent(), t = i, null === (a = null === (r = this.messageHandlerInstance) || void 0 === r ? void 0 : r.contentWindow) || void 0 === a || a.postMessage({\n              messageBusEvent: t\n            }, \"*\"), this.sentMessages.push(b(t)), [4, new Promise(function (e) {\n              o.listenRepliedEvent(t, function (t) {\n                e(t.context);\n              });\n            })];\n          case 2:\n            return [2, n.sent()];\n        }\n      });\n    });\n  }, this.reply = function (e, i) {\n    return t(d, void 0, void 0, function () {\n      var t, r, a, o;\n      return n(this, function (n) {\n        switch (n.label) {\n          case 0:\n            if (!this.isReady()) throw s(\"message bus is not ready to send message\");\n            if (!e.identifier || !e.timestamp) throw s(c, \"target message is not valid\");\n            return r = {\n              action: l.BROADCAST\n            }, [4, this.getEncryptedContext(i)];\n          case 1:\n            return r.context = n.sent(), r.identifier = this.identification.identifier || \"\", r.timestamp = new Date().getTime(), r.replyTarget = {\n              action: e.action,\n              identifier: e.identifier,\n              timestamp: e.timestamp\n            }, t = r, null === (o = null === (a = this.messageHandlerInstance) || void 0 === a ? void 0 : a.contentWindow) || void 0 === o || o.postMessage({\n              messageBusEvent: t\n            }, \"*\"), this.sentMessages.push(b(t)), [2];\n        }\n      });\n    });\n  }, this.setData = function (e, t) {\n    void 0 === e && (e = \"appData\"), d.send({\n      eventName: f.SET_DATA,\n      key: e,\n      data: t\n    });\n  }, this.getData = function () {\n    for (var e = [], s = 0; s < arguments.length; s++) e[s] = arguments[s];\n    return t(d, i([], r(e), !1), void 0, function (e) {\n      return void 0 === e && (e = \"appData\"), n(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return [4, this.send({\n              eventName: f.GET_DATA,\n              key: e\n            })];\n          case 1:\n            return [2, t.sent()];\n        }\n      });\n    });\n  }, this.proxyToListeners = function (i) {\n    return t(d, void 0, void 0, function () {\n      var r,\n        s = this;\n      return n(this, function (a) {\n        return r = i.data.messageBusEvent, \"https://liff-subwindow.line.me\" !== i.origin ? [2] : r ? (this.sentMessages.includes(b(r)) || r.identifier !== this.identification.identifier || r.action !== l.BROADCAST && !r.replyTarget || this.listeners.forEach(function (i) {\n          return t(s, void 0, void 0, function () {\n            var t, s, a;\n            return n(this, function (n) {\n              switch (n.label) {\n                case 0:\n                  return t = i, s = [e({}, r)], a = {}, [4, this.getDecryptedContext(r.context)];\n                case 1:\n                  return t.apply(void 0, [e.apply(void 0, s.concat([(a.context = n.sent(), a)]))]), [2];\n              }\n            });\n          });\n        }), [2]) : [2];\n      });\n    });\n  }, this.getEncryptedContext = function (e) {\n    return t(d, void 0, void 0, function () {\n      var t, i, r, s, a, o, c;\n      return n(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return t = this.identification, i = t.identifier, r = t.cryptoKey, a = (s = JSON).stringify, c = {\n              eventName: e.eventName,\n              key: e.key ? e.key : void 0\n            }, e.data ? [4, w(i, r, JSON.stringify(e.data))] : [3, 2];\n          case 1:\n            return o = n.sent(), [3, 3];\n          case 2:\n            o = void 0, n.label = 3;\n          case 3:\n            return [2, a.apply(s, [(c.data = o, c)])];\n        }\n      });\n    });\n  }, this.getDecryptedContext = function (i) {\n    return t(d, void 0, void 0, function () {\n      var t, r, s, a, o, c, d, u;\n      return n(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return t = this.identification, r = t.identifier, s = t.cryptoKey, (a = JSON.parse(i)).data && \"string\" == typeof a.data ? (u = (d = JSON).parse, [4, y(r, s, a.data)]) : [3, 2];\n          case 1:\n            return c = u.apply(d, [n.sent()]), [3, 3];\n          case 2:\n            c = void 0, n.label = 3;\n          case 3:\n            return o = c, [2, e(e({}, a), {\n              data: o\n            })];\n        }\n      });\n    });\n  }, this.windowType = o;\n};\nexport { l as ACTION, u as CRYPTO_KEY, f as EVENT_NAME, v as GLOBAL_MESSAGE_BUS_IDENTIFIER, p as GLOBAL_MESSAGE_BUS_KEY, d as IDENTIFIER_KEY, T as MessageBus, h as WINDOW, E as getEventAction, b as getUniqId, g as isSameEvent, A as loadMessageHandlerPage };","map":{"version":3,"names":["__assign","e","__awaiter","t","__generator","n","__spreadArray","i","__read","r","createLiffError","s","randomAlphaNumericString","a","SUB_WINDOW_STATUS","o","UNKNOWN","c","d","u","f","GET_DATA","SET_DATA","NOT_FOUND","TEARDOWN","l","BROADCAST","COMMAND","h","MAIN","SUB","v","p","m","label","trys","push","window","crypto","subtle","importKey","kty","k","alg","ext","name","sent","w","TextEncoder","encode","encrypt","iv","btoa","Uint8Array","reduce","String","fromCharCode","y","atob","length","charCodeAt","decrypt","buffer","TextDecoder","decode","g","b","concat","identifier","action","timestamp","E","Object","keys","map","includes","A","document","createElement","method","type","value","appendChild","body","submit","T","identification","cryptoKey","messageHandlerInstance","listeners","Map","sentMessages","generateIdentification","URLSearchParams","location","search","get","windowType","generateKey","exportKey","hasIdentification","isReady","setup","match","style","display","src","contentWindow","eval","toString","replace","split","Promise","data","addEventListener","proxyToListeners","removeEventListener","teardown","send","eventName","clear","parentNode","removeChild","listen","set","listenRepliedEvent","replyTarget","delete","Date","getTime","getEncryptedContext","context","postMessage","messageBusEvent","reply","setData","key","getData","arguments","origin","forEach","getDecryptedContext","apply","JSON","stringify","parse","ACTION","CRYPTO_KEY","EVENT_NAME","GLOBAL_MESSAGE_BUS_IDENTIFIER","GLOBAL_MESSAGE_BUS_KEY","IDENTIFIER_KEY","MessageBus","WINDOW","getEventAction","getUniqId","isSameEvent","loadMessageHandlerPage"],"sources":["C:/Users/hishi/Documents/ポートフォリオ2026/portfolio/my-portfolio-2026/node_modules/@liff/message-bus/lib/index.es.js"],"sourcesContent":["import{__assign as e,__awaiter as t,__generator as n,__spreadArray as i,__read as r}from\"tslib\";import{createLiffError as s,randomAlphaNumericString as a}from\"@liff/util\";import{SUB_WINDOW_STATUS as o,UNKNOWN as c}from\"@liff/consts\";var d=\"liff.subwindow.identifier\",u=\"liff.subwindow.cryptokey\",f=e(e({},o),{GET_DATA:\"getData\",SET_DATA:\"setData\",NOT_FOUND:\"notFound\",TEARDOWN:\"teardown\"}),l={BROADCAST:\"broadcast\",COMMAND:\"command\"},h={MAIN:\"main\",SUB:\"sub\"},v=\"__liff_message_bus__\",p=\"bFSQbce18HC7UXe-lS_mgg\",m=function(e){return t(void 0,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,window.crypto.subtle.importKey(\"jwk\",{kty:\"oct\",k:e,alg:\"A128GCM\",ext:!0},{name:\"AES-GCM\"},!1,[\"encrypt\",\"decrypt\"])];case 1:return[2,n.sent()];case 2:throw t=n.sent(),s(c,t);case 3:return[2]}}))}))},w=function(e,i,r){return t(void 0,void 0,void 0,(function(){var t,a,o,d;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),t=(new TextEncoder).encode(e),[4,m(i)];case 1:return a=n.sent(),[4,window.crypto.subtle.encrypt({name:\"AES-GCM\",iv:t},a,(new TextEncoder).encode(r))];case 2:return o=n.sent(),[2,btoa(new Uint8Array(o).reduce((function(e,t){return e+String.fromCharCode(t)}),\"\"))];case 3:throw d=n.sent(),s(c,d);case 4:return[2]}}))}))},y=function(e,i,r){return t(void 0,void 0,void 0,(function(){var t,a,o,d,u,f,l;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),t=(new TextEncoder).encode(e),[4,m(i)];case 1:for(a=n.sent(),o=atob(r),d=new Uint8Array(o.length),u=0;u<o.length;u++)d[u]=o.charCodeAt(u);return[4,window.crypto.subtle.decrypt({name:\"AES-GCM\",iv:t},a,d.buffer)];case 2:return f=n.sent(),[2,(new TextDecoder).decode(new Uint8Array(f))];case 3:throw l=n.sent(),s(c,l);case 4:return[2]}}))}))},g=function(e,t){return b(e)===b(t)},b=function(e){return\"\".concat(e.identifier,\"-\").concat(e.action,\"-\").concat(e.timestamp)},E=function(e){return Object.keys(o).map((function(e){return o[e]})).includes(e)?l.BROADCAST:l.COMMAND};function A(){var e=document.createElement(\"form\");e.method=\"POST\",e.action=\"$MESSAGE_HANDLER_URL\";var t=document.createElement(\"input\");t.type=\"hidden\",t.name=\"identifier\",t.value=\"$IDENTIFIER\",e.appendChild(t),document.body.appendChild(e),e.submit()}var T=function(o){void 0===o&&(o=h.MAIN);var d=this;this.identification={identifier:\"\",cryptoKey:\"\"},this.messageHandlerInstance=null,this.listeners=new Map,this.sentMessages=[],this.generateIdentification=function(){return t(d,void 0,void 0,(function(){var e,i,r,o,d;return n(this,(function(f){switch(f.label){case 0:return e=new URLSearchParams(window.location.search),i=function(t){var n=e.get(\"liff.state\");return n?new URLSearchParams(n).get(t):null},r=this,d={identifier:this.windowType===h.MAIN?a(12):e.get(\"liff.subwindow.identifier\")||i(\"liff.subwindow.identifier\")||\"\"},this.windowType!==h.MAIN?[3,2]:[4,t(void 0,void 0,void 0,(function(){var e,t,i;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,window.crypto.subtle.generateKey({name:\"AES-GCM\",length:128},!0,[\"encrypt\",\"decrypt\"])];case 1:return e=n.sent(),[4,window.crypto.subtle.exportKey(\"jwk\",e)];case 2:if(!(t=n.sent())||!t.k)throw s(c,\"failed to generate key\");return[2,t.k];case 3:throw i=n.sent(),s(c,i);case 4:return[2]}}))}))];case 1:return o=f.sent(),[3,3];case 2:o=e.get(u)||i(u)||\"\",f.label=3;case 3:return r.identification=(d.cryptoKey=o,d),[2]}}))}))},this.hasIdentification=function(){var e=d.identification,t=e.identifier,n=e.cryptoKey;return\"string\"==typeof t&&\"string\"==typeof n&&t.length>0&&n.length>0},this.isReady=function(){return d.hasIdentification()&&!!d.messageHandlerInstance},this.setup=function(){return t(d,void 0,void 0,(function(){var e,t,i,r,a,o=this;return n(this,(function(n){switch(n.label){case 0:return this.messageHandlerInstance?[2]:[4,this.generateIdentification()];case 1:if(n.sent(),!(e=this.identification.identifier))return[2];if(t=/^[a-zA-Z0-9]+$/gm,!e.match(t))throw s(c,\"Invalid identifier\");return(i=document.createElement(\"iframe\")).style.display=\"none\",i.src=\"about:blank\",document.body.appendChild(i),null===(a=null==i?void 0:i.contentWindow)||void 0===a||a.window.eval(\"(\".concat(A.toString().replace(\"$MESSAGE_HANDLER_URL\",\"\".concat(\"https://liff-subwindow.line.me/liff/v2/sub/messageHandler\")).replace(\"$IDENTIFIER\",e.split(\"'\")[0]),\")()\")),r=\"iframe-\".concat(e,\"-ready\"),[4,new Promise((function(e){var t=function(n){n.data[r]&&(o.messageHandlerInstance=i,window.addEventListener(\"message\",o.proxyToListeners),e(),document.removeEventListener(\"message\",t))};window.addEventListener(\"message\",t)}))];case 2:return[2,n.sent()]}}))}))},this.teardown=function(){return t(d,void 0,void 0,(function(){var e,t;return n(this,(function(n){switch(n.label){case 0:return this.isReady()?[4,this.send({eventName:f.TEARDOWN})]:[3,2];case 1:n.sent(),window.removeEventListener(\"message\",this.proxyToListeners),this.listeners.clear(),null===(t=null===(e=this.messageHandlerInstance)||void 0===e?void 0:e.parentNode)||void 0===t||t.removeChild(this.messageHandlerInstance),this.messageHandlerInstance=null,n.label=2;case 2:return[2]}}))}))},this.listen=function(e){d.listeners.set(e,e)},this.listenRepliedEvent=function(e,t){var n=function(i){i.replyTarget&&g(i.replyTarget,e)&&(t(i),d.listeners.delete(n))};d.listeners.set(n,n)},this.send=function(e){return t(d,void 0,void 0,(function(){var t,i,r,a,o=this;return n(this,(function(n){switch(n.label){case 0:if(!this.isReady())throw s(\"message bus is not ready to send message\");return i={action:E(e.eventName),identifier:this.identification.identifier||\"\",timestamp:(new Date).getTime()},[4,this.getEncryptedContext(e)];case 1:return i.context=n.sent(),t=i,null===(a=null===(r=this.messageHandlerInstance)||void 0===r?void 0:r.contentWindow)||void 0===a||a.postMessage({messageBusEvent:t},\"*\"),this.sentMessages.push(b(t)),[4,new Promise((function(e){o.listenRepliedEvent(t,(function(t){e(t.context)}))}))];case 2:return[2,n.sent()]}}))}))},this.reply=function(e,i){return t(d,void 0,void 0,(function(){var t,r,a,o;return n(this,(function(n){switch(n.label){case 0:if(!this.isReady())throw s(\"message bus is not ready to send message\");if(!e.identifier||!e.timestamp)throw s(c,\"target message is not valid\");return r={action:l.BROADCAST},[4,this.getEncryptedContext(i)];case 1:return r.context=n.sent(),r.identifier=this.identification.identifier||\"\",r.timestamp=(new Date).getTime(),r.replyTarget={action:e.action,identifier:e.identifier,timestamp:e.timestamp},t=r,null===(o=null===(a=this.messageHandlerInstance)||void 0===a?void 0:a.contentWindow)||void 0===o||o.postMessage({messageBusEvent:t},\"*\"),this.sentMessages.push(b(t)),[2]}}))}))},this.setData=function(e,t){void 0===e&&(e=\"appData\"),d.send({eventName:f.SET_DATA,key:e,data:t})},this.getData=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];return t(d,i([],r(e),!1),void 0,(function(e){return void 0===e&&(e=\"appData\"),n(this,(function(t){switch(t.label){case 0:return[4,this.send({eventName:f.GET_DATA,key:e})];case 1:return[2,t.sent()]}}))}))},this.proxyToListeners=function(i){return t(d,void 0,void 0,(function(){var r,s=this;return n(this,(function(a){return r=i.data.messageBusEvent,\"https://liff-subwindow.line.me\"!==i.origin?[2]:r?(this.sentMessages.includes(b(r))||r.identifier!==this.identification.identifier||r.action!==l.BROADCAST&&!r.replyTarget||this.listeners.forEach((function(i){return t(s,void 0,void 0,(function(){var t,s,a;return n(this,(function(n){switch(n.label){case 0:return t=i,s=[e({},r)],a={},[4,this.getDecryptedContext(r.context)];case 1:return t.apply(void 0,[e.apply(void 0,s.concat([(a.context=n.sent(),a)]))]),[2]}}))}))})),[2]):[2]}))}))},this.getEncryptedContext=function(e){return t(d,void 0,void 0,(function(){var t,i,r,s,a,o,c;return n(this,(function(n){switch(n.label){case 0:return t=this.identification,i=t.identifier,r=t.cryptoKey,a=(s=JSON).stringify,c={eventName:e.eventName,key:e.key?e.key:void 0},e.data?[4,w(i,r,JSON.stringify(e.data))]:[3,2];case 1:return o=n.sent(),[3,3];case 2:o=void 0,n.label=3;case 3:return[2,a.apply(s,[(c.data=o,c)])]}}))}))},this.getDecryptedContext=function(i){return t(d,void 0,void 0,(function(){var t,r,s,a,o,c,d,u;return n(this,(function(n){switch(n.label){case 0:return t=this.identification,r=t.identifier,s=t.cryptoKey,(a=JSON.parse(i)).data&&\"string\"==typeof a.data?(u=(d=JSON).parse,[4,y(r,s,a.data)]):[3,2];case 1:return c=u.apply(d,[n.sent()]),[3,3];case 2:c=void 0,n.label=3;case 3:return o=c,[2,e(e({},a),{data:o})]}}))}))},this.windowType=o};export{l as ACTION,u as CRYPTO_KEY,f as EVENT_NAME,v as GLOBAL_MESSAGE_BUS_IDENTIFIER,p as GLOBAL_MESSAGE_BUS_KEY,d as IDENTIFIER_KEY,T as MessageBus,h as WINDOW,E as getEventAction,b as getUniqId,g as isSameEvent,A as loadMessageHandlerPage};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}