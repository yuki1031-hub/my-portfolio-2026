{"ast":null,"code":"import { isSVGElement } from '../utils/is-svg-element.mjs';\nimport { resolveElements } from '../utils/resolve-elements.mjs';\nconst resizeHandlers = new WeakMap();\nlet observer;\nconst getSize = (borderBoxAxis, svgAxis, htmlAxis) => (target, borderBoxSize) => {\n  if (borderBoxSize && borderBoxSize[0]) {\n    return borderBoxSize[0][borderBoxAxis + \"Size\"];\n  } else if (isSVGElement(target) && \"getBBox\" in target) {\n    return target.getBBox()[svgAxis];\n  } else {\n    return target[htmlAxis];\n  }\n};\nconst getWidth = /*@__PURE__*/getSize(\"inline\", \"width\", \"offsetWidth\");\nconst getHeight = /*@__PURE__*/getSize(\"block\", \"height\", \"offsetHeight\");\nfunction notifyTarget(_ref) {\n  var _resizeHandlers$get;\n  let {\n    target,\n    borderBoxSize\n  } = _ref;\n  (_resizeHandlers$get = resizeHandlers.get(target)) === null || _resizeHandlers$get === void 0 || _resizeHandlers$get.forEach(handler => {\n    handler(target, {\n      get width() {\n        return getWidth(target, borderBoxSize);\n      },\n      get height() {\n        return getHeight(target, borderBoxSize);\n      }\n    });\n  });\n}\nfunction notifyAll(entries) {\n  entries.forEach(notifyTarget);\n}\nfunction createResizeObserver() {\n  if (typeof ResizeObserver === \"undefined\") return;\n  observer = new ResizeObserver(notifyAll);\n}\nfunction resizeElement(target, handler) {\n  if (!observer) createResizeObserver();\n  const elements = resolveElements(target);\n  elements.forEach(element => {\n    var _observer;\n    let elementHandlers = resizeHandlers.get(element);\n    if (!elementHandlers) {\n      elementHandlers = new Set();\n      resizeHandlers.set(element, elementHandlers);\n    }\n    elementHandlers.add(handler);\n    (_observer = observer) === null || _observer === void 0 || _observer.observe(element);\n  });\n  return () => {\n    elements.forEach(element => {\n      const elementHandlers = resizeHandlers.get(element);\n      elementHandlers === null || elementHandlers === void 0 || elementHandlers.delete(handler);\n      if (!(elementHandlers !== null && elementHandlers !== void 0 && elementHandlers.size)) {\n        var _observer2;\n        (_observer2 = observer) === null || _observer2 === void 0 || _observer2.unobserve(element);\n      }\n    });\n  };\n}\nexport { resizeElement };","map":{"version":3,"names":["resizeHandlers","WeakMap","observer","getSize","borderBoxAxis","svgAxis","htmlAxis","target","borderBoxSize","isSVGElement","getBBox","getWidth","getHeight","notifyTarget","_ref","_resizeHandlers$get","get","forEach","handler","width","height","notifyAll","entries","createResizeObserver","ResizeObserver","resizeElement","elements","resolveElements","element","_observer","elementHandlers","Set","set","add","observe","delete","size","_observer2","unobserve"],"sources":["C:\\Users\\hishi\\Documents\\ポートフォリオ2026\\portfolio\\my-portfolio-2026\\node_modules\\motion-dom\\src\\resize\\handle-element.ts"],"sourcesContent":["import { isSVGElement } from \"../utils/is-svg-element\"\nimport { ElementOrSelector, resolveElements } from \"../utils/resolve-elements\"\nimport { ResizeHandler } from \"./types\"\n\nconst resizeHandlers = new WeakMap<Element, Set<ResizeHandler<Element>>>()\n\nlet observer: ResizeObserver | undefined\n\nconst getSize =\n    (\n        borderBoxAxis: \"inline\" | \"block\",\n        svgAxis: \"width\" | \"height\",\n        htmlAxis: \"offsetWidth\" | \"offsetHeight\"\n    ) =>\n    (target: Element, borderBoxSize?: ReadonlyArray<ResizeObserverSize>) => {\n        if (borderBoxSize && borderBoxSize[0]) {\n            return borderBoxSize[0][\n                (borderBoxAxis + \"Size\") as keyof ResizeObserverSize\n            ]\n        } else if (isSVGElement(target) && \"getBBox\" in target) {\n            return (target as SVGGraphicsElement).getBBox()[svgAxis]\n        } else {\n            return (target as HTMLElement)[htmlAxis]\n        }\n    }\n\nconst getWidth = /*@__PURE__*/ getSize(\"inline\", \"width\", \"offsetWidth\")\nconst getHeight = /*@__PURE__*/ getSize(\"block\", \"height\", \"offsetHeight\")\n\nfunction notifyTarget({ target, borderBoxSize }: ResizeObserverEntry) {\n    resizeHandlers.get(target)?.forEach((handler) => {\n        handler(target, {\n            get width() {\n                return getWidth(target, borderBoxSize)\n            },\n            get height() {\n                return getHeight(target, borderBoxSize)\n            },\n        })\n    })\n}\n\nfunction notifyAll(entries: ResizeObserverEntry[]) {\n    entries.forEach(notifyTarget)\n}\n\nfunction createResizeObserver() {\n    if (typeof ResizeObserver === \"undefined\") return\n\n    observer = new ResizeObserver(notifyAll)\n}\n\nexport function resizeElement(\n    target: ElementOrSelector,\n    handler: ResizeHandler<Element>\n) {\n    if (!observer) createResizeObserver()\n\n    const elements = resolveElements(target)\n\n    elements.forEach((element) => {\n        let elementHandlers = resizeHandlers.get(element)\n\n        if (!elementHandlers) {\n            elementHandlers = new Set()\n            resizeHandlers.set(element, elementHandlers)\n        }\n\n        elementHandlers.add(handler)\n        observer?.observe(element)\n    })\n\n    return () => {\n        elements.forEach((element) => {\n            const elementHandlers = resizeHandlers.get(element)\n\n            elementHandlers?.delete(handler)\n\n            if (!elementHandlers?.size) {\n                observer?.unobserve(element)\n            }\n        })\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}